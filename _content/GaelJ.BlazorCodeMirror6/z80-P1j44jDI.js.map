{"version":3,"file":"z80-P1j44jDI.js","sources":["../NodeLib/node_modules/@codemirror/legacy-modes/mode/z80.js"],"sourcesContent":["function mkZ80(ez80) {\n  var keywords1, keywords2;\n  if (ez80) {\n    keywords1 = /^(exx?|(ld|cp)([di]r?)?|[lp]ea|pop|push|ad[cd]|cpl|daa|dec|inc|neg|sbc|sub|and|bit|[cs]cf|x?or|res|set|r[lr]c?a?|r[lr]d|s[lr]a|srl|djnz|nop|[de]i|halt|im|in([di]mr?|ir?|irx|2r?)|ot(dmr?|[id]rx|imr?)|out(0?|[di]r?|[di]2r?)|tst(io)?|slp)(\\.([sl]?i)?[sl])?\\b/i;\n    keywords2 = /^(((call|j[pr]|rst|ret[in]?)(\\.([sl]?i)?[sl])?)|(rs|st)mix)\\b/i;\n  } else {\n    keywords1 = /^(exx?|(ld|cp|in)([di]r?)?|pop|push|ad[cd]|cpl|daa|dec|inc|neg|sbc|sub|and|bit|[cs]cf|x?or|res|set|r[lr]c?a?|r[lr]d|s[lr]a|srl|djnz|nop|rst|[de]i|halt|im|ot[di]r|out[di]?)\\b/i;\n    keywords2 = /^(call|j[pr]|ret[in]?|b_?(call|jump))\\b/i;\n  }\n\n  var variables1 = /^(af?|bc?|c|de?|e|hl?|l|i[xy]?|r|sp)\\b/i;\n  var variables2 = /^(n?[zc]|p[oe]?|m)\\b/i;\n  var errors = /^([hl][xy]|i[xy][hl]|slia|sll)\\b/i;\n  var numbers = /^([\\da-f]+h|[0-7]+o|[01]+b|\\d+d?)\\b/i;\n\n  return {\n    name: \"z80\",\n    startState: function() {\n      return {\n        context: 0\n      };\n    },\n    token: function(stream, state) {\n      if (!stream.column())\n        state.context = 0;\n\n      if (stream.eatSpace())\n        return null;\n\n      var w;\n\n      if (stream.eatWhile(/\\w/)) {\n        if (ez80 && stream.eat('.')) {\n          stream.eatWhile(/\\w/);\n        }\n        w = stream.current();\n\n        if (stream.indentation()) {\n          if ((state.context == 1 || state.context == 4) && variables1.test(w)) {\n            state.context = 4;\n            return 'variable';\n          }\n\n          if (state.context == 2 && variables2.test(w)) {\n            state.context = 4;\n            return 'variableName.special';\n          }\n\n          if (keywords1.test(w)) {\n            state.context = 1;\n            return 'keyword';\n          } else if (keywords2.test(w)) {\n            state.context = 2;\n            return 'keyword';\n          } else if (state.context == 4 && numbers.test(w)) {\n            return 'number';\n          }\n\n          if (errors.test(w))\n            return 'error';\n        } else if (stream.match(numbers)) {\n          return 'number';\n        } else {\n          return null;\n        }\n      } else if (stream.eat(';')) {\n        stream.skipToEnd();\n        return 'comment';\n      } else if (stream.eat('\"')) {\n        while (w = stream.next()) {\n          if (w == '\"')\n            break;\n\n          if (w == '\\\\')\n            stream.next();\n        }\n        return 'string';\n      } else if (stream.eat('\\'')) {\n        if (stream.match(/\\\\?.'/))\n          return 'number';\n      } else if (stream.eat('.') || stream.sol() && stream.eat('#')) {\n        state.context = 5;\n\n        if (stream.eatWhile(/\\w/))\n          return 'def';\n      } else if (stream.eat('$')) {\n        if (stream.eatWhile(/[\\da-f]/i))\n          return 'number';\n      } else if (stream.eat('%')) {\n        if (stream.eatWhile(/[01]/))\n          return 'number';\n      } else {\n        stream.next();\n      }\n      return null;\n    }\n  };\n};\n\nexport const z80 = mkZ80(false)\nexport const ez80 = mkZ80(true)\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}