{"version":3,"file":"ebnf-jWG_1Yly.js","sources":["../NodeLib/node_modules/@codemirror/legacy-modes/mode/ebnf.js"],"sourcesContent":["var commentType = {slash: 0, parenthesis: 1};\nvar stateType = {comment: 0, _string: 1, characterClass: 2};\n\nexport const ebnf = {\n  name: \"ebnf\",\n  startState: function () {\n    return {\n      stringType: null,\n      commentType: null,\n      braced: 0,\n      lhs: true,\n      localState: null,\n      stack: [],\n      inDefinition: false\n    };\n  },\n  token: function (stream, state) {\n    if (!stream) return;\n\n    //check for state changes\n    if (state.stack.length === 0) {\n      //strings\n      if ((stream.peek() == '\"') || (stream.peek() == \"'\")) {\n        state.stringType = stream.peek();\n        stream.next(); // Skip quote\n        state.stack.unshift(stateType._string);\n      } else if (stream.match('/*')) { //comments starting with /*\n        state.stack.unshift(stateType.comment);\n        state.commentType = commentType.slash;\n      } else if (stream.match('(*')) { //comments starting with (*\n        state.stack.unshift(stateType.comment);\n        state.commentType = commentType.parenthesis;\n      }\n    }\n\n    //return state\n    //stack has\n    switch (state.stack[0]) {\n    case stateType._string:\n      while (state.stack[0] === stateType._string && !stream.eol()) {\n        if (stream.peek() === state.stringType) {\n          stream.next(); // Skip quote\n          state.stack.shift(); // Clear flag\n        } else if (stream.peek() === \"\\\\\") {\n          stream.next();\n          stream.next();\n        } else {\n          stream.match(/^.[^\\\\\\\"\\']*/);\n        }\n      }\n      return state.lhs ? \"property\" : \"string\"; // Token style\n\n    case stateType.comment:\n      while (state.stack[0] === stateType.comment && !stream.eol()) {\n        if (state.commentType === commentType.slash && stream.match('*/')) {\n          state.stack.shift(); // Clear flag\n          state.commentType = null;\n        } else if (state.commentType === commentType.parenthesis && stream.match('*)')) {\n          state.stack.shift(); // Clear flag\n          state.commentType = null;\n        } else {\n          stream.match(/^.[^\\*]*/);\n        }\n      }\n      return \"comment\";\n\n    case stateType.characterClass:\n      while (state.stack[0] === stateType.characterClass && !stream.eol()) {\n        if (!(stream.match(/^[^\\]\\\\]+/) || stream.match('.'))) {\n          state.stack.shift();\n        }\n      }\n      return \"operator\";\n    }\n\n    var peek = stream.peek();\n\n    //no stack\n    switch (peek) {\n    case \"[\":\n      stream.next();\n      state.stack.unshift(stateType.characterClass);\n      return \"bracket\";\n    case \":\":\n    case \"|\":\n    case \";\":\n      stream.next();\n      return \"operator\";\n    case \"%\":\n      if (stream.match(\"%%\")) {\n        return \"header\";\n      } else if (stream.match(/[%][A-Za-z]+/)) {\n        return \"keyword\";\n      } else if (stream.match(/[%][}]/)) {\n        return \"bracket\";\n      }\n      break;\n    case \"/\":\n      if (stream.match(/[\\/][A-Za-z]+/)) {\n        return \"keyword\";\n      }\n    case \"\\\\\":\n      if (stream.match(/[\\][a-z]+/)) {\n        return \"string.special\";\n      }\n    case \".\":\n      if (stream.match(\".\")) {\n        return \"atom\";\n      }\n    case \"*\":\n    case \"-\":\n    case \"+\":\n    case \"^\":\n      if (stream.match(peek)) {\n        return \"atom\";\n      }\n    case \"$\":\n      if (stream.match(\"$$\")) {\n        return \"builtin\";\n      } else if (stream.match(/[$][0-9]+/)) {\n        return \"variableName.special\";\n      }\n    case \"<\":\n      if (stream.match(/<<[a-zA-Z_]+>>/)) {\n        return \"builtin\";\n      }\n    }\n\n    if (stream.match('//')) {\n      stream.skipToEnd();\n      return \"comment\";\n    } else if (stream.match('return')) {\n      return \"operator\";\n    } else if (stream.match(/^[a-zA-Z_][a-zA-Z0-9_]*/)) {\n      if (stream.match(/(?=[\\(.])/)) {\n        return \"variable\";\n      } else if (stream.match(/(?=[\\s\\n]*[:=])/)) {\n        return \"def\";\n      }\n      return \"variableName.special\";\n    } else if ([\"[\", \"]\", \"(\", \")\"].indexOf(stream.peek()) != -1) {\n      stream.next();\n      return \"bracket\";\n    } else if (!stream.eatSpace()) {\n      stream.next();\n    }\n    return null;\n  }\n};\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}