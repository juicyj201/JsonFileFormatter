{"version":3,"file":"smalltalk-DSQbF4MF.js","sources":["../NodeLib/node_modules/@codemirror/legacy-modes/mode/smalltalk.js"],"sourcesContent":["var specialChars = /[+\\-\\/\\\\*~<>=@%|&?!.,:;^]/;\nvar keywords = /true|false|nil|self|super|thisContext/;\n\nvar Context = function(tokenizer, parent) {\n  this.next = tokenizer;\n  this.parent = parent;\n};\n\nvar Token = function(name, context, eos) {\n  this.name = name;\n  this.context = context;\n  this.eos = eos;\n};\n\nvar State = function() {\n  this.context = new Context(next, null);\n  this.expectVariable = true;\n  this.indentation = 0;\n  this.userIndentationDelta = 0;\n};\n\nState.prototype.userIndent = function(indentation, indentUnit) {\n  this.userIndentationDelta = indentation > 0 ? (indentation / indentUnit - this.indentation) : 0;\n};\n\nvar next = function(stream, context, state) {\n  var token = new Token(null, context, false);\n  var aChar = stream.next();\n\n  if (aChar === '\"') {\n    token = nextComment(stream, new Context(nextComment, context));\n\n  } else if (aChar === '\\'') {\n    token = nextString(stream, new Context(nextString, context));\n\n  } else if (aChar === '#') {\n    if (stream.peek() === '\\'') {\n      stream.next();\n      token = nextSymbol(stream, new Context(nextSymbol, context));\n    } else {\n      if (stream.eatWhile(/[^\\s.{}\\[\\]()]/))\n        token.name = 'string.special';\n      else\n        token.name = 'meta';\n    }\n\n  } else if (aChar === '$') {\n    if (stream.next() === '<') {\n      stream.eatWhile(/[^\\s>]/);\n      stream.next();\n    }\n    token.name = 'string.special';\n\n  } else if (aChar === '|' && state.expectVariable) {\n    token.context = new Context(nextTemporaries, context);\n\n  } else if (/[\\[\\]{}()]/.test(aChar)) {\n    token.name = 'bracket';\n    token.eos = /[\\[{(]/.test(aChar);\n\n    if (aChar === '[') {\n      state.indentation++;\n    } else if (aChar === ']') {\n      state.indentation = Math.max(0, state.indentation - 1);\n    }\n\n  } else if (specialChars.test(aChar)) {\n    stream.eatWhile(specialChars);\n    token.name = 'operator';\n    token.eos = aChar !== ';'; // ; cascaded message expression\n\n  } else if (/\\d/.test(aChar)) {\n    stream.eatWhile(/[\\w\\d]/);\n    token.name = 'number';\n\n  } else if (/[\\w_]/.test(aChar)) {\n    stream.eatWhile(/[\\w\\d_]/);\n    token.name = state.expectVariable ? (keywords.test(stream.current()) ? 'keyword' : 'variable') : null;\n\n  } else {\n    token.eos = state.expectVariable;\n  }\n\n  return token;\n};\n\nvar nextComment = function(stream, context) {\n  stream.eatWhile(/[^\"]/);\n  return new Token('comment', stream.eat('\"') ? context.parent : context, true);\n};\n\nvar nextString = function(stream, context) {\n  stream.eatWhile(/[^']/);\n  return new Token('string', stream.eat('\\'') ? context.parent : context, false);\n};\n\nvar nextSymbol = function(stream, context) {\n  stream.eatWhile(/[^']/);\n  return new Token('string.special', stream.eat('\\'') ? context.parent : context, false);\n};\n\nvar nextTemporaries = function(stream, context) {\n  var token = new Token(null, context, false);\n  var aChar = stream.next();\n\n  if (aChar === '|') {\n    token.context = context.parent;\n    token.eos = true;\n\n  } else {\n    stream.eatWhile(/[^|]/);\n    token.name = 'variable';\n  }\n\n  return token;\n};\n\nexport const smalltalk = {\n  name: \"smalltalk\",\n\n  startState: function() {\n    return new State;\n  },\n\n  token: function(stream, state) {\n    state.userIndent(stream.indentation(), stream.indentUnit);\n\n    if (stream.eatSpace()) {\n      return null;\n    }\n\n    var token = state.context.next(stream, state.context, state);\n    state.context = token.context;\n    state.expectVariable = token.eos;\n\n    return token.name;\n  },\n\n  blankLine: function(state, indentUnit) {\n    state.userIndent(0, indentUnit);\n  },\n\n  indent: function(state, textAfter, cx) {\n    var i = state.context.next === next && textAfter && textAfter.charAt(0) === ']' ? -1 : state.userIndentationDelta;\n    return (state.indentation + i) * cx.unit;\n  },\n\n  languageData: {\n    indentOnInput: /^\\s*\\]$/\n  }\n}\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}